oxenmq (1.2.16-1~ubuntu2310) mantic; urgency=medium

  * Redo random string generation
  * Bump version
  * Update oxen-encoding submodule
  * Add epoll support for Linux
  * epoll: fix hang on heavily loaded sockets
  * Rediff patches

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 28 Sep 2023 11:15:45 -0300

oxenmq (1.2.14-1~ubuntu2310) mantic; urgency=medium

  * rebuild for mantic

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 27 Sep 2023 20:21:11 -0300

oxenmq (1.2.14-1~ubuntu2304) lunar; urgency=medium

  * rebuild for lunar

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 21 Apr 2023 18:24:29 -0300

oxenmq (1.2.14-1~ubuntu2210) kinetic; urgency=medium

  [ Jason Rhinelander ]
  * oxen-encoding submodule to latest tagged release
  * Remove deprecated code
  * Add sid workaround

  [ Thomas Winget ]
  * initial implementation of generic pub/sub management

  [ Jason Rhinelander ]
  * Fix a race condition with tagged thread startup
  * Fix installed headers
  * Rediff patches

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 05 Oct 2022 20:33:04 -0300

oxenmq (1.2.13-2~ubuntu2210) kinetic; urgency=medium

  * Kinetic workaround
  * Bump oxen-encoding dep

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 31 Aug 2022 13:48:01 -0300

oxenmq (1.2.13-1~ubuntu2210) kinetic; urgency=medium

  [ Jason Rhinelander ]
  * Update oxenc so that oxenc::oxenc target exists

  [ Sean Darcy ]
  * adds custom formatter for OMQ structs that have to_string member

  [ Jason Rhinelander ]
  * Fix zmq socket limit setting
  * Increase ulimit on macos
  * oxen-encoding submodule to latest tagged release
  * Rediff patches

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 31 Aug 2022 12:52:43 -0300

oxenmq (1.2.12-1~ubuntu2210) kinetic; urgency=medium

  [ Jason Rhinelander ]
  * cmake work-around for cmake < 3.21
  * Use liboxenc-dev in ci jobs

  [ xutaxkamay ]
  * Fix libzmq library linking

  [ Jason Rhinelander ]
  * Fix cmake compilation properties
  * Add simpler Job subclass of Batch for simple jobs
  * Eliminate useless unordered_set
  * Change std::queue to std::deque typedef
  * Use raw index bytes in worker router
  * Use fixed array for known-small internal messages
  * Use fixed vector for idle workers
  * Add missing header
  * Avoid unnecessary nullptr assignment
  * Bump version & embedded oxenc version
  * new gbp compatibility
  * Fix use of parent oxenc::oxenc target
  * fix linkage for submodule dep use
  * Rediff patches

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 30 May 2022 16:43:27 -0300

oxenmq (1.2.11-2~ubuntu2204) jammy; urgency=medium

  * Set compiler flags to enable Pi zero CPU support

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 29 Apr 2022 18:09:43 -0300

oxenmq (1.2.11-1~ubuntu2204) jammy; urgency=medium

  * 1.2.11 + jammy release.

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 29 Mar 2022 23:35:58 -0300

oxenmq (1.2.10-1~ubuntu2110) impish; urgency=medium

  * Disable IPv6 by default

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 02 Dec 2021 19:11:53 -0400

oxenmq (1.2.9-1~ubuntu2110) impish; urgency=medium

  * CI tweaks
  * use prebuilt builder ci; reformat
  * Add std::hash implementation for oxenmq::address
  * Enable ipv6 support on sockets
  * Rebrand variables LMQ -> OMQ
  * Allow null logger
  * Propagate proxy thread startup exceptions
  * Bump version
  * Fix libc++

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 30 Nov 2021 14:32:38 -0400

oxenmq (1.2.8-1~ubuntu2110) impish; urgency=medium

  * fix lib version
  * Update ci to use our pre-built images
  * Updates for pyoxenmq 1.0.0

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 21 Oct 2021 23:01:13 -0300

oxenmq (1.2.7-1~ubuntu2110) impish; urgency=medium

  [ Jason Rhinelander ]
  * Tweak test timers to deal with Apple's shitty thread scheduling
  * Update bundled zeromq download version
  * Apple test suite hacks
  * Another apple time fix attempt
  * Add support for inproc: requests
  * Downgrade "worker waiting for" log message to trace
  * Remove debugging
  * Fix backwards logic on overlapping ranges comment
  * Make {to,from}_{hex/b64/b32} return output iterator
  * Remove ancient dead code
  * Add allocation-free bt-list and bt-dict producer
  * Apple workaround
  * Another workaround for crapple
  * Add const

  [ Jeff Becker ]
  * add operator() overload for defered message that sends reply

  [ Jason Rhinelander ]
  * Expose size calculations; stricter b32z/b64 validity checking
  * Make (and use) iterator approach for encoding/decoding
  * Add b32z/b64 invalid garbage tests
  * Add methods for unpadded base64 construction
  * Simplify iterator initialization & avoid warnings
  * Fix r narrowing initialization warning when uint_fast16_t is small
  * drone: quiet/optimize image setup
  * Force xz compression for data, control
  * Allow disabling -Werror via a cmake option
  * Update catch2 to latest 2.x upstream
  * Crank clang to 13
  * Maybe fix macos tests?
  * Fix versioning in clang/llvm pipeline functions
  * Rediff patches

 -- Jason Rhinelander <jason@imaginary.ca>  Sat, 16 Oct 2021 11:38:24 -0300

oxenmq (1.2.6-2~ubuntu2110) impish; urgency=medium

  * New build for ubuntu 21.10

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 17 Sep 2021 11:29:54 -0300

oxenmq (1.2.6-2~ubuntu2104) hirsute; urgency=medium

  * fix control file
  * Loki->Oxen in package descriptions

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 09 Aug 2021 13:19:02 -0300

oxenmq (1.2.6-1~ubuntu2104) hirsute; urgency=medium

  * Update gbp main branch name to stable
  * Add timer cancellation & timer tests
  * Bump project version in dev branch (for next release)
  * Add thread-safe timerid assignment version of add_timer()
  * Minor doc fix
  * Add `is_unsigned_integer` to bt_{dict,list}_consumer
  * Loki->Oxen rebrand the README
  * Add support for listening after startup
  * Miscellaneous small test suite fixes/improvements
  * Fix uninitialized value in post-start listen test
  * Simplify conn index handling (#41)
  * Fix messages coming back on an outgoing connection
  * Add a single container version of `send_option::data_parts`
  * Remove debug

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 05 Jul 2021 18:11:21 -0300

oxenmq (1.2.5-1~ubuntu2104) hirsute; urgency=medium

  * Add Ubuntu hirsute (21.04) deb

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 22 Apr 2021 13:32:53 -0300

oxenmq (1.2.5-1~ubuntu2010) groovy; urgency=medium

  * Add connect_option::*; allow per-connection pubkey-based routing setting
  * Bump (and cmake-modernize) version
  * Rename PUBKEY_BASED_ROUTING_ID to EPHEMERAL_ROUTING_ID
  * Don't warn when we can't send back to an non-SN incoming connection
  * Add support for std::optional<T> send arguments

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 22 Apr 2021 01:49:07 -0300

oxenmq (1.2.4-1~ubuntu2010) groovy; urgency=medium

  * Add missing header
  * Fix debian/rules cmake variables
  * Add better deferred reply capabilities to Message
  * Make is_bt_tuple constexpr variables inline
  * Bump version
  * Rediff patches

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 09 Mar 2021 15:52:15 -0400

oxenmq (1.2.3-2~ubuntu2010) groovy; urgency=medium

  * Add missing header

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 14 Jan 2021 23:29:22 -0400

oxenmq (1.2.3-1~ubuntu2010) groovy; urgency=medium

  * Refresh .so versioning patch
  * fix lib version
  * Make lokimq::is_hex check for size being a multiple of 2
  * Fix decoding into a std::byte
  * Rename LokiMQ to OxenMQ
  * Add lokimq compatibility headers
  * Export compile commands and use ccache by default
  * Remove deprecated string_view compat shim
  * Rediff patches
  * Rename package in control file

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 14 Jan 2021 15:49:27 -0400

lokimq (1.2.2-1~ubuntu2010) groovy; urgency=medium

  * Crank clang to 11
  * cppzmq 4.7+ compatibility
  * Move socket holding into LokiMQ instance
  * Don't install when building as a static subdirectory
  * Bump version for 1.2.2 release

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 17 Nov 2020 15:29:48 -0400

lokimq (1.2.1-1~ubuntu2010) groovy; urgency=medium

  * Update macos build to use 10.14 compatibility
  * macOS 10.12 compatibility
  * Test suite: use different ports for each test
  * Fix var::get<I> to return references
  * Stable release bump

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 21 Oct 2020 00:21:09 -0300

lokimq (1.2.0-1~ubuntu2010) groovy; urgency=medium

  1.2.0 release.

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 30 Sep 2020 17:18:48 -0300

lokimq (1.2.0~pre2-1~ubuntu2010) groovy; urgency=medium

  [ Jason Rhinelander ]
  * Drop i386
  * Add separate submodules step
  * Drop mapbox-variant
  * Don't build tests

  [ Thomas Winget ]
  * add method to get current buffer from bt list/dict consumer

  [ Jason Rhinelander ]
  * Fix gbp conf for groovy

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 25 Sep 2020 21:30:25 -0300

lokimq (1.2.0~pre1-1~ubuntu2010) groovy; urgency=medium

  * Fork sid deb to groovy.

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 23 Sep 2020 17:13:45 -0300

lokimq (1.2.0~pre1-1) unstable; urgency=medium

  * lokimq 1.2.0 dev snapshot

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 21 Sep 2020 20:58:30 -0300

lokimq (1.1.4-1) unstable; urgency=medium

  * Silence spurious warning on optional send failure
  * Add bt_u64 wrapper for forcing a uint64_t on the wire
  * Add checking for a negative int in bt_*_consumer
  * 1.1.4

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 21 Sep 2020 20:57:48 -0300

lokimq (1.1.3-1) unstable; urgency=medium

  * Bump version (not released yet)
  * Provide caller Access in Message
  * Fix ""_sv literal being non-constexpr
  * Add remote address into Message object
  * Fix incoming ConnectionIDs not being storable
  * Add hack to fix compilation on debian sid

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 28 Apr 2020 22:54:01 -0300

lokimq (1.1.2-1) unstable; urgency=medium

  * Set thread names on proxy/workers
  * Fix proxy thread stall when workers fill up
  * Change worker thread names: "w2" -> "lmq-w2"
  * Bump version to 1.1.2

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 21 Apr 2020 17:15:26 -0300

lokimq (1.1.1-1) unstable; urgency=medium

  * Drop idle connections regularly
  * Reduce heartbeat frequency to 15s

 -- Jason Rhinelander <jason@imaginary.ca>  Sat, 18 Apr 2020 03:00:49 -0300

lokimq (1.1.1~pre-1) unstable; urgency=medium

  * removed UNKNOWNCOMMAND patch (applied upstream)
  * Fix storing reference to temporary
  * Fix broken idle expiry timeout
  * Use slower and exponential backoff in reconnection
  * Increase ZMQ socket limit
  * Bump version to 1.1.1

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 17 Apr 2020 16:22:33 -0300

lokimq (1.1.0-2) unstable; urgency=medium

  * Fix pre-1.1.0 UNKNOWNCOMMAND detection

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 14 Apr 2020 23:58:00 -0300

lokimq (1.1.0-1) unstable; urgency=medium

  * Rediff patches
  * Test suite timing tweaks
  * Add ZMTP heartbeating (enabled by default)
  * 1.1.0: invocation-time SN auth; failure responses
  * Move pubkey_set into auth.h header
  * Add missing SET_SNS proxy handler

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 14 Apr 2020 13:06:33 -0300

lokimq (1.0.5-1) unstable; urgency=medium

  * Change thread count logs to debug from trace
  * Reset stale pollitems
  * Add `send_option::outgoing` to force a send on an outgoing connection
  * Expose advanced zmq context setting ability
  * Made simple_string_view take a char type
  * Fix pollitems_stale not being set in some cases
  * Bump version to 1.0.5

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 06 Apr 2020 18:19:22 -0300

lokimq (1.0.4-1) unstable; urgency=medium

  * Catch errors on internal msgs; support non-blocking sends
  * Remove empty file
  * Catch connect failures
  * All sends use dontwait; add send failure callbacks
  * Less verbose logging at `info` level
  * Allow log level to be specified in constructor
  * Bump version to 1.0.4
  * Add job queue check on total workers size

 -- Jason Rhinelander <jason@imaginary.ca>  Sun, 29 Mar 2020 15:52:20 -0300

lokimq (1.0.3-2) unstable; urgency=medium

  * Version liblokimq
  * Fully version library
  * liblokimq package versioning

 -- Jason Rhinelander <jason@imaginary.ca>  Sat, 28 Mar 2020 12:30:32 -0300

lokimq (1.0.3-1) unstable; urgency=medium

  * Avoid masking ReplyCallback type with template param
  * Avoid segfault on retried SN connection request
  * Trim logged filenames to lokimq/*
  * 1.0.3 release

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 27 Mar 2020 18:56:42 -0300

lokimq (1.0.2-2) unstable; urgency=medium

  * liblokimq-dev needs to be arch: any

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 25 Mar 2020 16:21:10 -0300

lokimq (1.0.2-1) unstable; urgency=medium

  * Rename keep-alive -> keep_alive in internal serialization
  * Reduce connection check interval and make configurable
  * Make request timeout configurable
  * 1.0.2 version bump

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 24 Mar 2020 11:37:17 -0300

lokimq (1.0.1-2) unstable; urgency=medium

  * slower connection tests

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 23 Mar 2020 15:18:10 -0300

lokimq (1.0.1-1) unstable; urgency=medium

  * Use the correct variable for shared libs
  * More static build linking fixes
  * cmake compatibility fix
  * Add sodium dep if embedding static lib when doing a shared build, too
  * More linking overhaul
  * Add BUILD_BYPRODUCTS so that ninja build works
  * Increase test timeouts for arm
  * Add more locks around assertions
  * Change pending_connects from vector to list
  * 1.0.1 release

 -- Jason Rhinelander <jason@imaginary.ca>  Sat, 21 Mar 2020 13:00:06 -0300

lokimq (1.0.0-1) unstable; urgency=medium

  * Initial LokiMQ release

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 13 Mar 2020 17:51:00 -0300
